# Note 

- 포인터처럼 작동할 뿐만 아니라 추가적인 메타데이터와 능력들도 가지고 있는 데이터 구조
- 참조자와 스마트 포인터 사이에는 추가적인 차이점이 있습니다: 참조자가 데이터를 빌리기만 하는 반면, 대부분의 경우 스마트 포인터는 가리킨 데이터를 소유

- 표준 lib
  - 값을 힙에 할당하기 위한 `Box<T>`
    - 스택 대신 힙에 데이터 저장
    - 방대한 양의 데이터의 소유권을 옮기는 시간이 길 때 performance 향상의 목적으로 사용할 수 있음
    - 재귀적 타입 (recursive type) 을 가능하도록 이용할 수 있음
      - 값은 자신 안에 동일한 타입의 또 다른 값을 담을 수 있음
    - 대여 규칙의 불변성은 컴파일 타임에 집행
  - 복수 소유권을 가능하게 하는 참조 카운팅 타입인 `Rc<T>`
    - 명시적으로 복수 소유권 가능하게 함
    - `strong_count` 가 0일 때 제거 됨
    - `싱글스레드` 시나리오용
  - 대여 규칙을 컴파일 타임 대신 런타임에 강제하는 타입인, `RefCell<T>`를 통해 접근 가능한 `Ref<T>`와 `RefMut<T>`
    - 데이터에 대한 단일 소유권을 나타냄
    - `싱글스레드` 시나리오용
    - `RefCell<T>` 은 런타임에 집행 (`Box<T>` 와 차이)


- Deref trait
  -  역참조 연산자 (dereference operator) `*` 동작의 커스터마이징을 가능하게 해 줌

- `drop`
  - 강제 메모리 해제


- `Rc<T>`와 `Weak<T>`
  - `Rc::downgrade` 를 통해 `Weak<T>` 타입의 스마트 포인터 획득
    - `Rc<T>` 이 제거되기 위해 weak_count 가 0일 필요가 없음